### Cache
* 缓存使用与问题
* Redis
---

#### 缓存使用与问题
* 适合做缓存的数据：静态数据，计算中间态数据，读写比很大(N:1)的数据
* 缓存加载时机：全量加载，异步加载 => 数据全部走缓存，1. 懒加载，用到起异步线程加载则去加载；2. 专门的后台线程定时加载
* 问题：
    1. 缓存穿透：大量并发查询不存在KEY，压力直接传到数据库
    2. 缓存击穿：大量并发请求访问某个刚好失效的KEY
    3. 缓存雪崩：某一时刻缓存数据大范围失效
    
#### Redis
* Redis五种基本数据结构：string，hash，list，set，sort set
* Redis高可用
    1. 主从模式：使用 `slaveof host port`，从机只可读不可写
    2. 因为主机宕机，需要手动切换从机为主节点，sentinel哨兵由此而生，自动监控主从，然后在主节点宕机之后自动切换从节点为主节点